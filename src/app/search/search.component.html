<section>
  <form [formGroup]="searchForm">
    <label>
      <input type="text" (keyup)="searchTerm.next($event)" formControlName="search" placeholder="Search articles..."/>

      <div *ngIf="loading">
        <p class="search-message">Searching</p>
        <div class="lds-ellipsis">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
    </label>

  </form>

  <div *ngIf="searchResults">
    <div class="results">
      <div class="article" *ngFor="let result of searchResults">
        <div>
          <img loading="lazy" [attr.src]="result.urlToImage"
               width="200"
               height="auto"
               alt="avatar"
          />
          <h2>{{ result.title }}</h2>
          <p>{{ result.description }}</p>
          <a href="{{ result.url }}">Read full article</a>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="errorMessage" class="errorMessage">
    <h2>Error</h2>
    <p class="error">{{errorMessage}}</p>
  </div>


</section>
